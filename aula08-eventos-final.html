<!doctype html>
<html>
<head>
	<title>Curso Javascript Completo 2018</title>
	<meta charset="utf-8">
	
	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/bootstrap-theme.css" rel="stylesheet">
	
	<script src="js/beluga.js"></script>

</head>
<body>
	<div class="container">
		<h1>Eventos</h1>
		<button id="btn1" onclick="clicar()">botao 1</button>
		<button id="btn2">botao 2</button>
		<button id="btn3">botao 3</button>
	</div>
	<div class="container">
		<h1>propagação de eventos</h1>
		<div id="d1" style="background: red; padding: 25px;">
			<span style="background: yellow;">texto dentro da span</span>
		</div>
	</div>

	<div class="container">
		<h1>Delegação de eventos</h1>
		<ul>
			<li>lista</li>
			<li>lista</li>
			<li>lista</li>
		</ul>
	</div>
	<script>
		var btn2 = document.getElementById('btn2');
		var btn3 = document.getElementById('btn3');
		
		// DOM nivel zero - se colocar os parenteses ja executa direto no mund
		// js
		btn2.onclick =clicar;

		function clicar () {
			alert('cliclou'); 
		}

		btn3.addEventListener('click', function(){
			alert('Clicou com dom level 2');
		});


		var d1 = document.querySelector('#d1');
		var d1Span = document.querySelector('#d1 span');

		d1.addEventListener('click', function(e){
			console.log('clique no d1');
			e.stopPropagation();
		}, false);

		d1Span.addEventListener('click', function(e){
			console.log('click no d1Span');
			e.stopPropagation();
		}, false);

		document.addEventListener('click', function(e){
			console.log('clicou no document');
			console.log(e.currentTarget);
			console.log(this);
			console.log(e.target);
		}, false);

		var ul = document.querySelector('ul');
		var lis = document.querySelectorAll('li');

		// var x = 0;
		// while (lis[x]) {
		// 	lis[x].addEventListener('click', function(e){
		// 		console.log('clicou na li');
		// 		e.stopPropagation();
		// 	})
		// 	x++;
		// }
		ul.addEventListener('click', function(e){
			console.log('clicou na li');
			e.stopPropagation();
			console.log(this);
			console.log(e.target);
			console.log(e.target.nodeName);
			if (e.target.nodeName === 'LI') {
				alert('clicou na li');
			}
		});
	</script>
	
</body>
</html>